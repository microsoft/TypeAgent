// Copyright (c) Microsoft Corporation.
// Licensed under the MIT License.

entity Ordinal, Cardinal;

@ <Start> = <Pause>
          | <Resume>
          | <Next>
          | <PlayCommand>
          | <SelectDevice>
@ <Pause> = pause   ->  { actionName: "pause" }
          | pause music   ->  { actionName: "pause" }
          | pause the music   ->  { actionName: "pause" }
@ <Resume> = resume   ->  { actionName: "resume" }
           | resume music   ->  { actionName: "resume" }
           | resume the music   ->  { actionName: "resume" }
@ <Next> = next   ->  { actionName: "nextTrack" }
         | skip   ->  { actionName: "nextTrack" }
         | skip <TrackTerm>   ->  { actionName: "nextTrack" }
@ <PlayCommand> = <PlayTrackNumberCommand> | <PlaySpecificTrack>
@ <PlayTrackNumberCommand> =
    play (the)? $(n:Ordinal) (<Item>)? -> {
        actionName: "playFromCurrentTrackList",
        parameters: {
            trackNumber: $(n)
        }
    }
| play track $(n:Cardinal) -> {
        actionName: "playFromCurrentTrackList",
        parameters: {
            trackNumber: $(n)
        }
   }
| play track #$(n:number) -> {
        actionName: "playFromCurrentTrackList",
        parameters: {
            trackNumber: $(n)
        }
   }

@ <Item> = one | cut | <TrackTerm> 
@ <TrackTerm> = track | song

@ <TrackPhrase> = $(trackName:<TrackName>)  -> $(trackName)
                | the <TrackTerm> $(trackName:<TrackName>)  -> $(trackName)
                | <TrackTerm> $(trackName:<TrackName>)  -> $(trackName)
                | $(trackName:<TrackName>) <TrackTerm>  -> $(trackName)
@ <PlaySpecificTrack> = play $(trackName:<TrackPhrase>) by $(artist:<ArtistName>) -> { actionName: "playTrack", parameters: { trackName: $(trackName), artists: [$(artist)] } }
                      | play $(trackName:<TrackPhrase>) from (the)? album $(albumName:<AlbumName>) -> { actionName: "playTrack", parameters: { trackName: $(trackName), albumName: $(albumName) } }
                      | play $(trackName:<TrackPhrase>) by $(artist:<ArtistName>) from (the)? album $(albumName:<AlbumName>) -> { actionName: "playTrack", parameters: { trackName: $(trackName), artists: [$(artist)], albumName: $(albumName) } }                      

@ <SelectDevice> = select $(deviceName:<DeviceName>) -> { actionName: "selectDevice", parameters: { deviceName: $(deviceName) } }
                 | select (the)? $(deviceName:<DeviceName>) device -> { actionName: "selectDevice", parameters: { deviceName: $(deviceName) } }
                 | switch to $(deviceName:<DeviceName>) -> { actionName: "selectDevice", parameters: { deviceName: $(deviceName) } }
                 | switch to (the)? $(deviceName:<DeviceName>) device -> { actionName: "selectDevice", parameters: { deviceName: $(deviceName) } }
                 | use (the)? $(deviceName:<DeviceName>) device -> { actionName: "selectDevice", parameters: { deviceName: $(deviceName) } }
                 | use device $(deviceName:<DeviceName>) -> { actionName: "selectDevice", parameters: { deviceName: $(deviceName) } }
                 | play on $(deviceName:<DeviceName>) -> { actionName: "selectDevice", parameters: { deviceName: $(deviceName) } }
                 | play on (the)? $(deviceName:<DeviceName>) device -> { actionName: "selectDevice", parameters: { deviceName: $(deviceName) } }

// Entity types: wildcard = 1+ words, word = exactly 1 word
@ <TrackName> = $(x:wildcard)
@ <ArtistName> = $(x:wildcard)
@ <AlbumName> = $(x:wildcard)
@ <DeviceName> = $(x:wildcard)


