<!doctype html>
<!-- Copyright (c) Microsoft Corporation.
 Licensed under the MIT License. -->

<html>
  <head>
    <title>New Tab</title>
    <style>
      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        margin: 0;
        padding: 60px 40px;
        background: #f5f5f5;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        min-height: 100vh;
        box-sizing: border-box;
      }
      .new-tab-container {
        max-width: 600px;
        width: 100%;
        background: white;
        padding: 40px;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }
      .url-input-group {
        display: flex;
        gap: 0;
        width: 100%;
      }
      .url-input {
        flex: 1;
        padding: 12px 16px;
        font-size: 16px;
        border: 2px solid #ddd;
        border-radius: 4px 0 0 4px;
        border-right: none;
        outline: none;
      }
      .url-input:focus {
        border-color: #007acc;
      }
      .url-input:focus + .go-button {
        border-color: #007acc;
      }
      .go-button {
        padding: 12px 20px;
        font-size: 16px;
        background: #007acc;
        color: white;
        border: 2px solid #007acc;
        border-radius: 0 4px 4px 0;
        cursor: pointer;
        white-space: nowrap;
      }
      .go-button:hover {
        background: #005999;
        border-color: #005999;
      }
    </style>
  </head>
  <body>
    <div class="new-tab-container">
      <div class="url-input-group">
        <input
          type="text"
          class="url-input"
          placeholder="https://example.com"
          id="urlInput"
          autofocus
        />
        <button class="go-button" onclick="navigate()">Go</button>
      </div>
    </div>
    <script>
      function navigate() {
        const url = document.getElementById("urlInput").value.trim();
        if (url) {
          let fullUrl = url;
          if (!url.startsWith("http://") && !url.startsWith("https://")) {
            fullUrl = "https://" + url;
          }
          try {
            const parsedUrl = new URL(fullUrl);
            if (
              parsedUrl.protocol === "http:" ||
              parsedUrl.protocol === "https:"
            ) {
              window.location.href = parsedUrl.href;
            } else {
              alert("Only HTTP and HTTPS protocols are allowed.");
            }
          } catch (e) {
            alert("Invalid URL.");
          }
        }
      }

      document
        .getElementById("urlInput")
        .addEventListener("keypress", function (e) {
          if (e.key === "Enter") {
            navigate();
          }
        });
    </script>
  </body>
</html>
